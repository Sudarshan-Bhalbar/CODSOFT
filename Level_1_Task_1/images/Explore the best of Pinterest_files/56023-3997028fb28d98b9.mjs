"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[56023],{849474:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(619013),o=r(13882);function i(e,t){(0,o.Z)(2,arguments);var r=(0,n.Z)(e),i=(0,n.Z)(t),s=r.getTime()-i.getTime();return s<0?-1:s>0?1:s}},31397:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(619013),o=r(13882),i=r(849474);function s(e,t){(0,o.Z)(2,arguments);var r=(0,n.Z)(e),s=(0,n.Z)(t),a=(0,i.Z)(r,s),l=Math.abs(function(e,t){(0,o.Z)(2,arguments);var r=(0,n.Z)(e),i=(0,n.Z)(t);return r.getFullYear()-i.getFullYear()}(r,s));r.setFullYear("1584"),s.setFullYear("1584");var c=(0,i.Z)(r,s)===-a,u=a*(l-c);return 0===u?0:u}},313566:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(667294),o=r(883119),i=r(785893);function s({accessibilityLabel:e,autoComplete:t="on",disabled:r,domainError:s,focused:a,hasError:l,helperText:c,id:u,name:_,onBlur:d,onChange:g,onFocus:f,placeholder:h,tooltip:m,type:p,useExperimentalTextfield:x,value:w}){let y=(0,n.useRef)(a),b=(0,n.useRef)(null),v=(0,n.useRef)(l);return(0,n.useEffect)(()=>{y.current&&b.current?.focus()},[]),(0,n.useEffect)(()=>{!1===v.current&&l&&b.current?.focus(),v.current=l},[l]),(0,i.jsxs)("fieldset",{style:{position:"relative"},children:[(0,i.jsx)(o.xu,{display:"visuallyHidden",children:(0,i.jsx)(o.__,{htmlFor:u,children:e??h??""})}),(0,i.jsx)(o.nv,{ref:b,autoComplete:x?void 0:t,disabled:r,errorMessage:m?x&&s||m:"",helperText:x?void 0:c,id:u,name:_,onBlur:d,onChange:({event:e})=>{g(e)},onFocus:f,placeholder:h,size:x?void 0:"lg",type:p,value:w||""})]})}},378432:(e,t,r)=>{r.d(t,{Z:()=>h});var n=r(667294),o=r(31397),i=r(883119),s=r(341640),a=r(658583),l=r(622541),c=r(886569),u=r(454514),_=r(140017),d=r(508218),g=r(217058),f=r(785893);let h=({birthday:e,onEditBirthday:t,onConfirmBirthday:r=()=>{}})=>{let h=(0,_.ZP)(),[m,p]=(0,n.useState)(!1),x=e?(0,o.Z)(new Date,(0,c.Z)(e)):0;return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(i.xu,{"data-test-id":"underageconfirmation-modal",padding:8,children:(0,f.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,f.jsx)(i.xu,{"data-test-id":"underageconfirmation-title",marginBottom:5,width:420,children:(0,f.jsx)(i.X6,{align:"center",size:"600",children:(0,s.ew)(x,h)})}),(0,f.jsx)(i.xu,{marginBottom:10,maxWidth:540,children:(0,f.jsx)(i.xv,{align:"center",children:(0,s.Pe)(h)})}),(0,f.jsx)(i.xu,{children:(0,f.jsxs)(i.kC,{children:[(0,f.jsx)(i.xu,{marginEnd:2,children:(0,f.jsx)(i.zx,{onClick:()=>{(0,g.My)("dweb.underageconfirmation.edit"),a.t8(l.It,"0",(0,a.kZ)(l.It)),t()},text:h._('Edit', 'signup.underageconfirmation.edit', 'Text on the edit button for birthday collection underage screen')})}),(0,f.jsx)(i.zx,{color:"red",onClick:()=>{p(!0),(0,g.My)("dweb.underageconfirmation.confirm"),r(),setTimeout(()=>{d.ZP.handleRedirect("/")},4e3)},text:h._('Confirm', 'signup.underageconfirmation.confirm', 'Text on the confirm button for birthday collection underage screen'),type:"submit"})]})})]})}),m&&(0,f.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,f.jsx)(u.ZP,{duration:3500,onHide:()=>p(!m),text:h._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'signup.underageconfirmation.error', 'Error message shown when underage user tries to register')})})]})}},322079:(e,t,r)=>{r.d(t,{Z:()=>j});var n=r(667294),o=r(216167),i=r(224796),s=r(214877),a=r(658583),l=r(622541),c=r(165736),u=r(123526),_=r(820428),d=r(96452),g=r(488726),f=r(467707),h=r(508218),m=r(182962),p=r(891276),x=r(535053),w=r(228441),y=r(731714),b=r(217058),v=r(722363),Z=r(546689),k=r(953565);function j(){let e=(0,g.hq)(),t=(0,m.Z)(),{logContextEvent:r}=(0,s.v)(),j=(0,v.Z)();return(0,n.useCallback)(({creds:n,isAccountSwitch:s,loggingOptions:{loggingData:g=Object.freeze({}),loginAttemptContextEvent:m},recaptchaV2Token:v,recaptchaV3Token:C})=>{t();let S=!!(n.facebook_autologin||n.autologin),O=(0,h.eD)(n),$=e=>{let t=n.google_open_id_token?"google":"facebook";S&&(0,b.dy)({event:e,provider:t})},z=e=>{S||(0,b.EX)({event:e,provider:(0,h.nY)(n)})},E=e=>{r({...m,event_type:e,aux_data:{...m.aux_data,upsell_reason:m.aux_data?.upsell_reason||(S?"autologin":y.Z.getItem(i.bg)||null),upsell_view_count:y.Z.getItem(i.w0)||0}}),7536===e&&(y.Z.setItem(i.w0,0),y.Z.setItem(i.V6,(0,h.nY)(n)))};E(7534),j({action:S?"autologin":"login",event:"attempt",trigger:g.trigger,type:O});let P=e=>{let t="referrer_unknown";try{let e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}let r=g===Object(g)?g.container:"container_unknown";(0,b.My)("login.referrer."+t+"."+O),(0,b.My)("login.container."+String(r)+"."+O),(0,b.My)("login.type."+O);let o=O||"method_unknown",i=g.page||"page_unknown";n.facebook_autologin?((0,b.My)("web_autologin_facebook"),(0,b.My)("new_web_autologin_facebook",{page:i,referrer:t,container:r})):((0,b.My)(`web_login.${o}.success.${i}.${String(r)}.${t}.tier1`),(0,k.nP)(`web_login.${o}.success.${i}.${String(r)}.${t}.tier1`),(0,b.My)(`new_web_login.${o}.success`,{page:i,referrer:t,container:r})),(0,p.ko)({country:e?.country,countryFromHostName:e?.countryFromHostName,countryFromIp:e?.countryFromIp,regionFromIp:e?.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),E(7536),j({action:S?"autologin":"login",event:"success",trigger:g&&g.trigger,type:O})},I=({error:e,isCrossDomain:t})=>{if(!e)return;let r=e.http_status===x.Ej?x.Ej:e.api_error_code,n=r;r&&d.qF.has(r)&&(n=d.qF.get(r));let{container:o,trigger:i}=g;(0,b.My)(`${t?"unauth_web_client_cctld_login_api_error":"unauth_web_client_login_api_error"}.${String(n)}.${o||"unknow_container"}.${O}`),E(7535),j({action:S?"autologin":"login",event:"fail",trigger:i,type:O})};if(n.username_or_email&&!n.mfa_resend&&e&&-1!==f.Z.indexOf(e.origin)){let t=e=>(0,b.My)(`web_cross_domain_login.${e}.${(0,h.eD)(n)}`);t("attempt");let{referrer:r,facebookToken:o,unauthId:i}=e;return(0,c.pH)(n,{recaptchaV3Token:C,referrer:r,facebookToken:o,unauthId:i}).then(e=>{let r=e&&e.data;if(r)return t("success_with_token"),(0,c.kv)(r).then(()=>(t("success_token_exchanged"),P(),Promise.resolve()),e=>{throw t("success_token_not_exchanged"),e});throw t("success_without_token"),Error()},e=>{throw t("failure"),I({error:e,isCrossDomain:!0}),e})}$("login_api_call_start"),z("login_api_call_start");let M=(0,Z.OJ)(),T=o.Z.create("UserSessionResource",{...n,...M?{referrer:M}:Object.freeze({}),get_user:n.get_user||n.switch_account&&s,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,Z.t_)()||null,recaptchaV2Token:v,recaptchaV3Token:C});return T.callCreate({showError:!1,async:!0}).then(e=>{let{country:t,country_from_hostname:r,country_from_ip:n,region_from_ip:o}=e?.client_context||Object.freeze({});return P({country:t,countryFromHostName:r,countryFromIp:n,regionFromIp:o}),$("login_api_call_success"),z("login_api_call_success"),(0,u.B)(!1),(0,_.Z)(),a.zN(l.e7.name),a.zN(l.x3.name),(0,w.Dm)("login").then(()=>e)},e=>(I({error:e,isCrossDomain:!1}),$("login_api_call_failure"),z("login_api_call_failure"),Promise.reject(e)))},[e,t,r,j])}},614792:(e,t,r)=>{r.d(t,{Mi:()=>o,lO:()=>i});var n=r(342513);let{Provider:o,useMaybeHook:i}=(0,n.Z)("pageContext")},588604:(e,t,r)=>{r.d(t,{i:()=>a});var n=r(29156),o=r(88682),i=r(598228);let s=e=>`/signup/sso-business-account?email=${e}`,a=(e,t,r)=>{let a=window.location.origin,l=s(e);r&&(l=(0,o.Z)(l,r)),a===i.C0?t.push(l):(0,n.Z)(`${i.C0}${l}`)}},345276:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(107366),o=r(217058),i=r(624797);let s=e=>{let{hostname:t}=(0,i.Qc)(e);return t&&(t.startsWith("www.pinterest")||t.endsWith(".pinterest.com")||t.endsWith(".pinterdev.com"))},a=({origin:e,data:t})=>s(e)?String(t):null;function l(){let e="undefined"!=typeof window,t=async e=>{try{let t=await (0,n.Z)({url:"/v3/sso/info/",method:"POST",data:{email:e}}),{authorization_uri:r,existing_user:o,existing_user_is_sso:i,is_sso:s,redirect_uri:a,exchange_code_to_token_info_url:l}=t.resource_response.data;return{authorizationUri:r,exchangeCodeToTokenUrl:l,existingUser:o,existingUserIsSso:i,isSso:s,redirectUri:a}}catch(e){return(0,o.My)("coreSso.verifyUser.error",{code:e.api_error_code,message:e.message,http_status:e.http_status}),{authorizationUri:null,exchangeCodeToTokenUrl:null,existingUser:null,existingUserIsSso:null,isSso:!1,redirectUri:null}}};return{verifySsoUser:t,authenticateWithSso:({callbacks:t,exchangeCodeToTokenUrl:r,isLogin:o,modalUrl:s})=>{let l;if(!e){t.error?.({api_error_code:0,message:"Window is undefined"});return}let c=async e=>{if(!e.isTrusted)return;let s=a(e),u=(0,i.mB)(s);if(u.code){if(o){t.success({authCode:u.code});return}try{let e=await (0,n.Z)({url:r,method:"POST",data:{code:u.code,state:u.state}}),{sso_id:o,sso_id_token:i,sso_email:s,sso_user_name:a}=e.resource_response.data;o&&i&&s&&a?t.success({ssoId:o,ssoIdToken:i,ssoEmail:s,ssoUserName:a}):t.error?.({api_error_code:0,message:"No tokens returned"})}catch(e){t.error?.(e)}finally{l&&!l.closed&&l.close(),window.removeEventListener("message",c)}}};window.addEventListener("message",c),l=window.open(s,"_blank","width=600,height=600")}}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/56023-3997028fb28d98b9.mjs.map