"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[31815],{401429:(e,t,i)=>{i.d(t,{Z:()=>m});var r=i(667294),o=i(702664),s=i(587703),l=i(25919),n=i(216167);let a=(e,t,i,r)=>(o,s)=>a=>{if(o&&o.id){let d=n.Z.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":d.callDelete().then(()=>{a((0,l.fO)()),i&&r&&i({event_type:r,object_id_str:o.id.toString()})});break;case"completed":d.callUpdate().then(()=>{s||a((0,l.fO)()),i&&r&&i({event_type:r,object_id_str:o.id.toString()})});break;case"viewed":d.callUpdate().then(()=>{i&&r&&i({event_type:r,object_id_str:o.id.toString()})})}}},d=e=>a("UserExperienceCompletedResource","completed",e,6567),c=a("UserExperienceResource","dismissed"),p=e=>a("UserExperienceViewedResource","viewed",e,4503);var u=i(785893);function h(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _ extends r.Component{constructor(...e){super(...e),h(this,"state",{hasCompleted:[],hasDismissed:[]}),h(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:i,viewExperience:r,viewExperienceObject:o}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",o(e)):i?r(e.placement_id,e.experience_id,i):r(e.placement_id,e.experience_id))}),h(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:i,experience:r,isBackendExperience:o,preventRemoval:s,targeting:l}=this.props,n=e||1;if(r&&!this.state.hasCompleted.includes(r.experience_id)){let{placement_id:e,experience_id:a}=r||{},d=s||2===n;(1===n||d)&&e&&a&&(o?i(r,d):l?t(e,a,d,l):t(e,a,d),this.setState(e=>({hasCompleted:[...e.hasCompleted,a]})))}}),h(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:r,preventRemoval:o,targeting:s}=this.props,{placement_id:l,experience_id:n}=i||{};i&&!this.state.hasDismissed.includes(n)&&(r?t(i):s?e(l,n,!!o,s):e(l,n,!!o),this.setState(e=>({hasDismissed:[...e.hasDismissed,n]})))}),h(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:i,predicate:r,transitionType:o}=this.props,{experience_id:s,type:l}=e;return t&&t.length?t.includes(s):i&&i.length?i.includes(l):r?r(e):!o||o===l})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,i=this.props.experience;i&&this.isEligibleExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):r.Children.only(e):null}}function m(e){let t=(0,o.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),i=(0,o.useDispatch)(),r=(0,l.be)(),n=(0,l.Am)(),a=(0,l.Ig)(),h=(0,s.Z)();return(0,u.jsx)(_,{...e,completeExperience:(e,t,o,s)=>i(r(e,t,o,!1,{},s)),completeExperienceObject:(e,t)=>i(d(h)(e,t)),dismissExperience:(e,t,r,o)=>i(n(e,t,r,void 0,o)),dismissExperienceObject:e=>i(c(e)),experience:t,viewExperience:(e,t,r)=>i(a(e,t,!1,!1,void 0,r)),viewExperienceObject:e=>i(p(h)(e))})}h(_,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},200201:(e,t,i)=>{i.d(t,{_:()=>a,a:()=>d});var r=i(667294),o=i(702664),s=i(105737),l=i(25919),n=i(5859);let a=({extraContext:e,id:t,shouldUsePlacedExperience:i=!0})=>{let a=(0,r.useRef)(),d=(0,o.useDispatch)(),{isBot:c}=(0,n.B)(),p=(0,o.useSelector)(e=>e.experiences[t]);return(0,r.useEffect)(()=>{d((0,l.kd)(t))},[d,p,t]),(0,r.useEffect)(()=>{i||(0,s.ZP)(a.current,e)||(d((0,l.pz)([t],c,e)),a.current=e)},[d,e,c,t,i]),p},d=e=>(a(e),(0,o.useSelector)(t=>t.experiencesMulti[e.id]))},681508:(e,t,i)=>{i.d(t,{Q4:()=>p,Rq:()=>s,Vf:()=>l,ab:()=>d,jd:()=>n,nw:()=>c,oy:()=>a});var r=i(658583),o=i(622541);let s=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,l=28,n=e=>window.innerHeight>=748&&s(e),a=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)},d=()=>{r.t8(o.oj,String(!0),(0,r.kZ)(o.oj))},c=()=>!!r.U2(o.oj),p=()=>{if(a()){let e=c();e||(d(),"undefined"!=typeof window&&window.location.reload(!0))}}},179425:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var r=i(883119),o=i(213377),s=i(681508),l=i(403862),n=i(5859),a=i(785893);let d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:i=!1,hasGutter:d=!0,height:c,showKeychainError:p=!1,useViewport:u=!1})=>{let h=(0,n.B)(),_=(0,s.jd)(h.userAgent.platform)?s.Vf:0;return(0,a.jsx)(r.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:u?`calc(100vh - ${_}px)`:c,paddingX:d?o.D6:void 0,paddingY:i||p?void 0:3,children:(0,a.jsx)(l.C,{value:!!d,children:e})})}},403862:(e,t,i)=>{i.d(t,{C:()=>s,V:()=>l});var r=i(667294);let o=(0,r.createContext)(!1),s=o.Provider,l=()=>(0,r.useContext)(o)},718423:(e,t,i)=>{i.d(t,{Z:()=>u});var r=i(667294),o=i(702664),s=i(883119),l=i(25919),n=i(401429),a=i(490166),d=i(785893);function c(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class p extends r.PureComponent{constructor(...e){super(...e),c(this,"state",{paused:!1,showPulsar:!1,hasMounted:!1}),c(this,"handleDismiss",()=>{let{onClickDismiss:e,dismissExperience:t,experience:i}=this.props;if(!i)return;let{experience_id:r,placement_id:o}=i;t(o,r),e&&e()}),c(this,"wrapperRef",(0,r.createRef)())}componentDidMount(){this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}componentDidUpdate(e){this.props.experience&&e.experience!==this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}mountPulsar(){let{experience:e}=this.props;if(!e)return;let{display_data:t}=e;t.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){let e=this.wrapperRef,{paused:t}=this.state;if(!e||!e.current)return null;let i=e.current.getBoundingClientRect(),{height:r,width:o}=i;return(0,d.jsx)(a.Z,{pressState:"none",children:(0,d.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-(68+r/2),marginLeft:-(68-o/2),pointerEvents:"none"}},position:"absolute",zIndex:new s.Ry(1),children:(0,d.jsx)(s.o3,{paused:t,size:136})})})}render(){let{children:e,color:t,eligibleIds:i,experience:r,idealDirection:o,onClickComplete:l,showCaret:a,size:c,textWeight:p="bold",textAlign:u,textOverflow:h,fontSize:_}=this.props,{showPulsar:m,hasMounted:g}=this.state;if(!r||!i.includes(r.experience_id)||!g)return e({experience:r});let{display_data:{scroll_to_dismiss:b,scroll_to_dismiss_delay_in_seconds:f=0,...v}}=r;return(0,d.jsx)(n.Z,{eligibleIds:i,experience:r,children:({complete:i,dismiss:n})=>{let g=()=>(x(),n(),setTimeout(this.handleDismiss,1e3*f)),x=()=>{b&&(window.removeEventListener("scroll",g),window.removeEventListener("touchmove",g))};b&&(window.addEventListener("scroll",g),window.addEventListener("touchmove",g));let w=()=>{x(),i(1)};return(0,d.jsxs)(s.xu,{ref:this.wrapperRef,children:[e({experience:r}),m?this.renderPulsar():v.has_tooltip&&(0,d.jsx)(s.J2,{_deprecatedShowCaret:a,anchor:this.wrapperRef.current,color:"blue"===t?"deprecatedBlue":t,idealDirection:o||"down",onDismiss:this.handleDismiss,size:c,children:(0,d.jsx)(s.xu,{padding:3,children:(0,d.jsxs)(s.kC,{direction:"column",gap:{row:0,column:3},children:[(0,d.jsx)(s.xu,{column:12,children:(0,d.jsxs)(s.xv,{align:"right"===u?"end":u,color:"inverse",overflow:h,size:_,weight:p||"bold",children:[v.text,v.secondary_cta_link&&(0,d.jsx)(s.xu,{display:"inlineBlock",marginStart:1,children:(0,d.jsx)(s.xv,{color:"inverse",size:_,weight:"bold",children:(0,d.jsx)(s.rU,{display:"inlineBlock",href:v.secondary_cta_link.url,target:"blank",underline:"hover",children:v.secondary_cta_link.text})})})]})}),v.complete_button_text&&(0,d.jsx)(s.kC,{alignItems:"stretch",justifyContent:"center",children:v.complete_button_text&&(0,d.jsx)(s.kC,{alignContent:"center",children:(0,d.jsx)(s.zx,{color:"white",onClick:()=>{w(),l&&l()},size:"md",text:v.complete_button_text})})})]})})})]})}})}}function u(e){let t=(0,o.useDispatch)(),i=(0,l.be)(),r=(0,l.Am)();return(0,d.jsx)(p,{...e,completeExperience:(e,r)=>t(i(e,r)),dismissExperience:(e,i)=>t(r(e,i))})}},739382:(e,t,i)=>{i.d(t,{Bb:()=>m,Bx:()=>n,F4:()=>l,Qj:()=>a,_6:()=>_,gv:()=>s,hg:()=>d,is:()=>u,jP:()=>h,lt:()=>o,oM:()=>c,wI:()=>p});var r=i(624797);let o=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),s=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),l=e=>{let t=(0,r.mB)(e.search).board_url;if(t){let e=(0,r.Jx)(t),i=(0,r.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},n=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),a=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),c=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),p=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},u=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),h=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),_=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),m=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},125768:(e,t,i)=>{i.d(t,{Z:()=>_});var r=i(702664),o=i(616550),s=i(883119),l=i(224796),n=i(587703),a=i(525364),d=i(140017),c=i(731714),p=i(217058),u=i(623409),h=i(785893);function _({alignIconLeft:e,bgColor:t,color:i,disableRedirect:_=!1,fallbackUrl:m,icon:g="arrow-back",onTouch:b,padding:f,placement:v,shouldUseFallbackUrl:x,size:w="lg",viewParameter:y,viewType:P}){let j=(0,d.ZP)(),A=(0,o.k6)(),k=(0,o.TH)(),z=(0,r.useSelector)(e=>e.session.isAuthenticated),E=(0,n.Z)(),S=(0,u.Z)(),{viewType:C,viewParameter:L}=(0,a.SU)(),[D,B]=P?[P,y]:[C,L],T=()=>k.search&&k.search.includes("?nativeShouldDismiss=true"),M=()=>{let e=c.Z.getItem(l.pm);k.key||"/ideas"!==m?(0,p.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)(`web_back_button_click.${String(v)}.is_auth_${String(z)}`),S({action:"click",item:"back-button"}),D&&E({view_type:D,view_parameter:B,element:34,event_type:102}),b&&b(),_||((!k.key||k.state&&"redirect"===k.state.referrer||x)&&m?A.push(m):k.pathname.includes("/password/reset/")&&T()?A.push("/login/?dismissWebview=true"):A.goBack())};return(0,h.jsx)(s.xu,{"data-test-id":"back-button",children:e?(0,h.jsx)(s.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===g?-1:-2,width:48,children:(0,h.jsx)(s.hU,{accessibilityLabel:j._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:g,iconColor:!i&&(!t||["white","lightGray","transparent"].includes(t))?"gray":i,onClick:M,padding:"auto"!==f?f:2,size:w})}):(0,h.jsx)(s.hU,{accessibilityLabel:j._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:g,iconColor:!i&&(!t||["white","lightGray","transparent"].includes(t))?"gray":i,onClick:M,padding:"auto"!==f?f:2,size:w})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/31815-21b948f368220177.mjs.map