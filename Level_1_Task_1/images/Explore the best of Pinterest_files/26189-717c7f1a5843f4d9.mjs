"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[26189],{195020:(e,i,l)=>{var t,n,a,s,r,o,d;l.r(i),l.d(i,{default:()=>p});let c={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],kind:"Fragment",metadata:null,name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[s,r,o,d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},d],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"4610a8b7fe41310eb2db231b8c1171930d91f797fbc7fd321ec6682cb48a3711",metadata:{},name:"UnauthCloseupInviteUpsellQuery",operationKind:"query",text:null}};c.hash="6932152931fe069ad54b218e36e66908";let p=c;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}}(c.default||c)},32346:(e,i,l)=>{l.d(i,{Z:()=>t});function t(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}},119936:(e,i,l)=>{l.r(i),l.d(i,{default:()=>x});var t=l(667294),n=l(883119),a=l(32346),s=l(844683),r=l(140017),o=l(30378),d=l(5859),c=l(55202),p=l(217058),_=l(554786),u=l(239821),h=l(785893);let m=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},g=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function x({accessibilityModalLabel:e,align:i="center",allowClickAndDrag:l,allowScroll:x=!1,children:f,closeOnOutsideClick:y=!0,footer:w,heading:b,isOpen:v,mobileAccessibilityCloseIconLabel:j,mobileHideCloseIcon:P,mobileIsFooter:k,mobileIsFullscreen:A,mobileIsSlideUp:z,onDismiss:C,subHeading:S,type:I,zIndex:T}){let R=(0,r.ZP)(),{isRTL:L}=(0,d.B)(),U=(0,t.useRef)(!1),[E,Z]=(0,t.useState)(!1),{setAppFocusState:O}=(0,u.I)(),F=(0,_.ZP)();return((0,t.useEffect)(()=>(U.current=(0,a.Z)(()=>{U.current&&Z(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&U.current&&(window.cancelAnimationFrame(U.current),U.current=null)}),[]),(0,t.useEffect)(()=>(v?(o.Z.pause(),O(!1),(0,p.My)(`mweb_unauth.mobile_modal.${I||"unknown_type"}.did_mount.is_open.true`)):(o.Z.resume(),O(!0)),()=>{v&&(o.Z.resume(),O(!0),(0,p.My)(`mweb_unauth.mobile_modal.${I||"unknown_type"}.did_mount.is_open.false`))}),[O,v]),(0,t.useEffect)(()=>{let e=v&&!x;return e&&m(),()=>{e&&g()}},[v,x]),v)?(0,h.jsx)(c.Z,{allowClickAndDrag:l,children:(0,h.jsx)(n.mh,{children:(0,h.jsxs)(n.xu,{"aria-label":e,display:"inlineBlock",position:"relative",role:"dialog",zIndex:T||s.ZM,children:[(0,h.jsx)(n.iP,{accessibilityLabel:R._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The accessibility label for the mask of mobile signup modal'),dataTestId:"mobile-modal-mask-overlay",onTap:({event:e})=>{e.clientX&&e.clientY&&(0,p.tj)(`mweb_unauth.mobile_modal.wash_tap.${I||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),y&&C()},tapStyle:"none",children:(0,h.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new n.Ry(1)})}),(0,h.jsxs)(n.xu,{color:"default",dangerouslySetInlineStyle:z?(0,s.Vf)({isFullscreen:A,isTablet:"tablet"===F,isShowing:E,isRelatedInterestsModal:"related_interests_modal"===I}):(0,s.JN)({variant:A?"fullscreen":"tablet"===F?"tablet":k?"footer":"signup"===I?"signup":void 0}),"data-test-id":"mobile-signup-mask",position:"fixed",children:[(0,h.jsxs)(n.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",width:"100%",children:[j&&!P?(0,h.jsx)(n.xu,{"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,h.jsx)(n.hU,{accessibilityLabel:j,icon:"cancel",iconColor:"darkGray",onClick:C,padding:4,size:"sm"})}):null,b?(0,h.jsx)(n.kC.Item,{flex:"grow",children:(0,h.jsx)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,h.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:j&&!P?{marginRight:L?-10:50,marginLeft:L?50:-10}:{}},"data-test-id":"mobile-modal-heading",children:[A?b:(0,h.jsx)(n.xv,{align:i,size:"400",weight:"bold",children:b}),S?(0,h.jsx)(n.xv,{align:i,children:S}):null]})})}):null]}),(0,h.jsxs)(n.xu,{overflow:"auto",children:[f,w]})]})]})})}):null}},454514:(e,i,l)=>{l.d(i,{UZ:()=>d,Vg:()=>o,ZP:()=>c});var t=l(667294),n=l(883119),a=l(554786),s=l(494125),r=l(785893);let o=200,d=({deviceType:e,hiding:i,visible:l})=>{let t="desktop"===e,n=0,a=t?"translateY(200px)":"translateY(-200px)",s="opacity 0.1s ease-in-out",r="hidden";return l&&!i&&(n=1,a="translateY(0)",s="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",r="visible"),l&&i&&(a="scale(1.1)",s="opacity transform 0.2s"),{opacity:n,pointerEvents:"auto",position:"relative",marginTop:t?10:0,transform:a,transition:s,visibility:r}};function c({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:i,text:l,primaryAction:c,dismissButton:p,helperLink:_,thumbnail:u,type:h,dataTestId:m,duration:g=2e3,onHide:x,href:f,onClick:y,openNewPage:w,imageUrl:b}){let v;let j=(0,a.ZP)(),[P,k]=(0,t.useState)(!1),[A,z]=(0,t.useState)(!1),C=(0,t.useRef)(),S=()=>{k(!0),C.current=setTimeout(x,o)},I=()=>{C.current=setTimeout(S,g)},T=()=>{C.current&&clearTimeout(C.current)};(0,s.Z)(()=>(setTimeout(()=>z(!0),100),I(),T)),b&&(v={image:(0,r.jsx)(n.Ee,{alt:"string"==typeof l?l:`${l[0]} ${l[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:b})});let R=(0,r.jsx)(n.FN,{_dangerouslySetPrimaryAction:i,_dangerouslySetThumbnail:e,dismissButton:p,helperLink:_,primaryAction:c,text:l,thumbnail:v??u,type:h}),{marginTop:L,opacity:U,pointerEvents:E,position:Z,transform:O,transition:F,visibility:N}=d({deviceType:j,hiding:P,visible:A});return(0,r.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transform:O,transition:F,visibility:N,pointerEvents:E}},"data-test-id":m??"toast",display:"flex",marginTop:L,onMouseEnter:T,onMouseLeave:I,opacity:U,position:Z,children:f?(0,r.jsx)(n.Tg,{href:f,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{f.startsWith("#")&&(e.preventDefault(),i()),y?.(e)},rounding:"pill",target:w?"blank":null,children:R}):R})}},205841:(e,i,l)=>{l.d(i,{qE:()=>r,u_:()=>o.ZP});var t=l(883119),n=l(785893);let a=(e,i)=>{let l=e?.includes("images/user/default");return!!(l&&i)};function s({accessibilityLabel:e,name:i,outline:l,size:s,src:r,verified:o}){return(0,n.jsx)(t.qE,{accessibilityLabel:e,name:i,outline:l,size:s,src:a(r,i)?void 0:r,verified:o})}s.displayName="Avatar";let r=s;var o=l(930837);l(454514)},48481:(e,i,l)=>{l.d(i,{Z:()=>a});var t=l(877457),n=l(241552);let a=()=>{let e=(0,t.g)(),i=(0,n.l)();return l=>{let{mobileOptions:t,desktopOptions:n,reason:a,attributionLabel:s,pinId:r}=l;e?e.showDesktopSignupModal({signupFlow:n?.modalType==="login"?{type:"login"}:{type:"signup"},reason:a,attributionLabel:s,...n?.modalOptions}):i&&i.showMobileSignupModal({reason:a,attributionLabel:s,headingType:t?.headingType??"none",pinId:r})}}},86264:(e,i,l)=>{l.d(i,{Z:()=>v});var t=l(214877),n=l(340523),a=l(5859),s=l(344064),r=l(669177),o=l(286988),d=l(624797),c=l(953565);let p="http://play.google.com/store/apps/details?id=com.pinterest",_=["access_token","new_password","new_password_confirm","password","next"],u=(e,i)=>i?(0,d.ru)(e,{invite_code:i}):e,h=(e,i,l)=>{if("ios"===i&&"string"==typeof e&&e.startsWith("discover/article/")){let i=e.split("/")[2];e=`discover_article/${i}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?u(e,l):"ios"===i||"ipad"===i?u(e.iOS,l):"android"===i?u(e.android,l):null},m=({deeplinkUri:e,invite_code:i,platform:l,fallbackUrl:t,unauthId:n,app_upsell_type:a})=>({deeplink_path:h(e,l,i),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",_),install_id:n,utm_source:140,utm_medium:2152,app_upsell_type:a,...t?{af_r:t}:null}),g=({deeplinkUri:e,invite_code:i,platform:l,unauthId:t,app_upsell_type:n})=>{let a=JSON.stringify({deeplink_path:h(e,l,i),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",_),install_id:t}),s=(0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a,app_upsell_type:n});return{referrer:s}},x=({unauthId:e,app_upsell_type:i})=>{let l=(0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:i});return{referrer:encodeURI(l)}},f=({isAuthenticated:e,deeplinkUri:i,fallbackUrl:l,invite_code:t,logContextEvent:n,platform:a,redirectToLite:s,unauthId:r,userAgent:_,app_upsell_type:u})=>{if(n?.({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}}),i){let h=m({isAuthenticated:e,deeplinkUri:i,fallbackUrl:l,invite_code:t,platform:a,unauthId:r,userAgent:_,app_upsell_type:u});if((0,c.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:a}}),t&&(0,c.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,c.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!r}}),s){(0,c.nP)("mweb.deeplink.lite_link",{sampleRate:1}),n?.({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}});let e=x({unauthId:r,app_upsell_type:u});window.location.href=(0,d.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===a){let e=g({deeplinkUri:i,invite_code:t,platform:a,unauthId:r,app_upsell_type:u});(0,o.v)()?(0,o.Z)().then(i=>{if(i.length>0){let e=(0,d.ru)(window.location.href,h);n?.({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}});let i=window.open(e);i||n?.({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}})}else n?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}}),window.location.href=(0,d.ru)(p,e)}).catch(()=>{(0,c.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(n?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}}),window.location.href=(0,d.ru)(p,e))}else{if((0,c.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===a&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,d.ru)("https://pinterest.com/pinterest-predicts",h);return}n?.({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}}),window.location.href=(0,d.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",h)}}};var y=l(785893);function w({children:e,invite_code:i}){let{isAuthenticated:l,isBot:s,unauthId:o,userAgent:{platform:d,raw:c}}=(0,a.B)(),{logContextEvent:p}=(0,t.v)(),{checkExperiment:_}=(0,n.F)(),u=async(e,t,n)=>{p({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:t}}),f({isAuthenticated:l,checkExperiment:_,deeplinkUri:e,fallbackUrl:n,invite_code:i,logContextEvent:p,platform:d,redirectToLite:(0,r.Rp)({isBot:s,platform:d,userAgent:c}),unauthId:o,userAgent:c,app_upsell_type:t})};return e(u)}let b=e=>(0,y.jsx)(s.ty,{children:i=>(0,y.jsx)(w,{...e,invite_code:i})});b.displayName="DeepLinkNavigator";let v=b},490166:(e,i,l)=>{l.d(i,{Z:()=>a});var t=l(883119),n=l(785893);function a({children:e,onMouseEnter:i,onMouseLeave:l,onTouch:a,rounding:s,fullWidth:r=!1,pressState:o="none",accessibilityLabel:d,role:c}){let p=(Array.isArray(o)?o:[o]).includes("compress");return(0,n.jsx)(t.iP,{accessibilityLabel:d,fullWidth:r,onMouseEnter:i&&(({event:e})=>i(e)),onMouseLeave:l&&(({event:e})=>l(e)),onTap:a&&(({event:e})=>a(e)),role:c,rounding:s,tapStyle:p?"compress":"none",children:e})}},766311:(e,i,l)=>{l.d(i,{Z:()=>o});var t=l(667294),n=l(587703),a=l(217058);let s=e=>Object.keys(e).reduce((i,l)=>(void 0===e[l]&&delete i[l],i),{...e}),r=({viewType:e,viewParameter:i,viewData:l,auxData:t,objectIdStr:n,component:r,clientTrackingParams:o,element:d},c)=>{let p=s({event_type:13,view_type:e,view_parameter:i,view_data:l,aux_data:t,object_id_str:n,component:r,clientTrackingParams:o,element:d});-1===Object.keys(p).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),c(p)};function o(e){let{auxData:i,clientTrackingParams:l,children:a,component:s,element:o,objectIdStr:d,viewData:c,viewParameter:p,viewType:_}=e,u=(0,n.Z)(),h=JSON.stringify(i),m=JSON.stringify(c);return(0,t.useEffect)(()=>{r(e,u)},[u,h,l,s,o,d,m,p,_]),t.Children.only(a)}},90647:(e,i,l)=>{l.d(i,{B:()=>m,Z:()=>g});var t=l(667294),n=l(616550),a=l(214877),s=l(525364),r=l(96157),o=l(5859),d=l(217058),c=l(623409),p=l(773616),_=l(86264),u=l(953565),h=l(785893);let m=(e,i)=>"/"===e.pathname?"/":(0,r.am)(e)&&i?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function g({children:e,componentType:i,app_upsell_type:l}){let r=(0,n.TH)(),{flushContextEvents:g,logContextEvent:x}=(0,a.v)(),{viewType:f,viewParameter:y}=(0,s.SU)(),w=(0,c.Z)(),{userAgent:{platform:b}}=(0,o.B)();(0,t.useEffect)(()=>{w({action:"view",item:"download-button",within:l})},[r,l,w]);let v=(0,t.useRef)(!1);(0,t.useEffect)(()=>{f&&202!==f?(x({component:i||13106,element:10308,event_type:9976,view_type:f,view_parameter:y,aux_data:{app_upsell_type:l,app_upsell_is_dupe:v.current}}),v.current=!0):(0,u.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:i,view_type:f,view_parameter:y,app_upsell_type:l,app_upsell_is_dupe:v.current}})},[i,x,y,f,l]);let j=(0,p.Z)();return(0,t.useEffect)(()=>{j||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${l}`)},[j,l]),(0,h.jsx)(_.Z,{children:t=>e({handleOpenApp:e=>{w({action:"click",item:"download-button",within:l}),(0,d.NC)("press_open_app",!0),x({component:i||13106,element:10308,event_type:102,view_type:f||202,view_parameter:y,aux_data:{app_upsell_type:l}}),x({component:i||13106,element:10308,event_type:9977,view_type:f||202,view_parameter:y,aux_data:{app_upsell_type:l}}),g(!0),t&&(x({component:i||13106,element:10308,event_type:1701,view_type:f||202,view_parameter:y,aux_data:{app_upsell_type:l}}),t(e?.deepLinkUri??m(r,"android"===b),l))}})})}},677233:(e,i,l)=>{l.d(i,{Z:()=>p,y:()=>c});var t=l(667294),n=l(805783),a=l(191313),s=l(573810),r=l(194602),o=l(766311),d=l(785893);let c=()=>{(0,a.Nh)("appUpsell",Date.now()),(0,a.qn)("firstUpsellTime")||(0,a.Nh)("firstUpsellTime",Date.now()),(0,s.Nh)("showedAppUpsellCurrentSession",!0)};function p({children:e,clientTrackingParams:i,viewParameter:l,viewType:a}){let s=(0,r.Z)();return s||(0,n.FP)(window)?null:(0,d.jsx)(o.Z,{clientTrackingParams:i,component:13106,viewParameter:l,viewType:a,children:(0,d.jsx)(t.Fragment,{children:e})})}},126189:(e,i,l)=>{l.d(i,{Z:()=>k});var t=l(616550),n=l(883119),a=l(214877),s=l(119936),r=l(140017),o=l(339001),d=l(96157),c=l(5859),p=l(757640),_=l(624797),u=l(554786),h=l(90647),m=l(677233),g=l(686703),x=l(260488),f=l(669177),y=l(19447),w=l(785893);let b=({description:e,handleDismiss:i,heading:l,i18n:t,appUpsellType:a})=>(0,w.jsx)(h.Z,{app_upsell_type:a,componentType:14155,children:({handleOpenApp:a})=>(0,w.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,w.jsx)(n.xu,{paddingY:2,children:(0,w.jsx)(n.X6,{align:"center",size:"400",children:l})}),(0,w.jsx)(n.xu,{width:246,children:(0,w.jsx)(n.xv,{align:"center",size:"300",children:e})}),(0,w.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:5,children:[(0,w.jsx)(n.xu,{marginBottom:2,width:246,children:(0,w.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,m.y)(),a()},size:"lg",text:t._('Open app', 'mweb.auth.referred_app_upsell.open_app', 'CTA text for referred app upsell')})}),(0,w.jsx)(n.zx,{color:"gray",fullWidth:!0,onClick:()=>{i()},size:"lg",text:t._('Continue in browser', 'mweb.auth.referred_app_upsell.continue', 'Continue text for referred app upsell')})]})]})}),v=({handleDismiss:e,i18n:i,iconSize:l,appUpsellType:t})=>(0,w.jsxs)(n.xu,{alignItems:"center",bottom:!0,color:"light",direction:"column",display:"flex",left:!0,paddingX:5,position:"fixed",right:!0,top:!0,zIndex:new n.Ry(5),children:[(0,w.jsx)(n.xu,{"data-test-id":"referred-app-upsell-dismiss-button",left:!0,padding:4,position:"absolute",top:!0,children:(0,w.jsx)(n.hU,{accessibilityLabel:i._('Cancel', 'mweb.auth.referred_app_upsell.close_modal_label', 'close modal icon'),icon:"cancel",onClick:e,size:"sm"})}),(0,w.jsxs)(n.xu,{direction:"column",display:"flex",height:"100%",justifyContent:"center",margin:"auto",maxWidth:440,children:[(0,w.jsx)(n.xu,{display:"flex",justifyContent:"center",paddingY:2,children:(0,w.jsx)(n.JO,{accessibilityLabel:i._('Logo', 'mweb.auth.referred_app_upsell.logo', 'logo icon'),color:"brandPrimary",icon:"pinterest",size:l})}),(0,w.jsx)(b,{appUpsellType:t,description:i._('Save ideas, interact with friends, and get inspired', 'mweb.auth.referred_app_upsell.description1', 'description for referred app upsell'),handleDismiss:e,heading:i._('Pinterest is better in the app', 'mweb.auth.referred_app_upsell.heading1', 'heading for referred app upsell'),i18n:i})]})]}),j=({backgroundImageUrl:e,handleDismiss:i,heroImage:l,i18n:t,multipleImages:a,appUpsellType:s})=>(0,w.jsxs)(n.xu,{alignItems:"center",bottom:!0,color:"light",direction:"column",display:"flex",left:!0,paddingX:5,position:"fixed",right:!0,top:!0,zIndex:new n.Ry(5),children:[(0,w.jsx)(n.xu,{height:319,position:"absolute",top:!0,width:"100%",zIndex:new n.Ry(2),children:(0,w.jsx)(n.Ee,{alt:t._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:e})}),(0,w.jsxs)(n.xu,{alignItems:"center",bottom:!0,color:"light",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(12px)"}},direction:"column",display:"flex",left:!0,paddingX:5,position:"absolute",right:!0,top:!0,zIndex:new n.Ry(3),children:[(0,w.jsx)(n.xu,{color:"default",dangerouslySetInlineStyle:{__style:{background:"transparent"}},"data-test-id":"referred-app-upsell-dismiss-button",left:!0,padding:4,position:"absolute",top:!0,children:(0,w.jsx)(n.hU,{accessibilityLabel:t._('Cancel', 'mweb.auth.referred_app_upsell.close_modal_label', 'close modal icon'),icon:"cancel",onClick:i,size:"sm"})}),(0,w.jsxs)(n.xu,{direction:"column",display:"flex",height:"100%",justifyContent:"center",margin:"auto",maxWidth:440,children:[(0,w.jsx)(n.kC,{justifyContent:"center",children:l}),(0,w.jsx)(b,{appUpsellType:s,description:a?t._('Save these ideas, get similar recs, and more', 'mweb.auth.referred_app_upsell.description2', 'description for referred app upsell'):t._('Save this idea, get similar recs, and more', 'mweb.auth.referred_app_upsell.description5', 'description for referred app upsell'),handleDismiss:i,heading:t._('It\'s better in the Pinterest app', 'mweb.auth.referred_app_upsell.heading1', 'heading for referred app upsell'),i18n:t})]})]})]}),P=({pinUrl:e,i18n:i})=>(0,w.jsx)(n.xu,{height:235,marginBottom:6,overflow:"hidden",rounding:4,width:176,children:(0,w.jsx)(n.Ee,{alt:i._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:e})});function k({onDismiss:e,viewParameter:i,viewType:l}){let k=(0,r.ZP)(),A=(0,u.Wb)(),{isBot:z,userAgent:{platform:C,raw:S}}=(0,c.B)(),I=(0,f.Rp)({isBot:z,platform:C,userAgent:S}),{logContextEvent:T}=(0,a.v)(),R=A?60:32,L=(0,t.k6)(),U=(0,t.$B)(),E=(0,t.TH)(),{invite_code:Z}=(0,_.mB)(E.search),{appUpsellType:O,uiType:F}=(0,g.n)(),N=()=>{T({component:14155,element:10308,event_type:10220,view_type:l||202,view_parameter:i,aux_data:{app_upsell_type:O}}),(0,m.y)(),e()},B=U.params.id??"",{data:W}=(0,p.Z)(B?{name:"PinResource",options:{field_set_key:"detailed",id:B}}:null),D=(0,y.S6)()(B),{username:M,slug:H}=(0,t.UO)(),{data:K}=(0,p.Z)(M&&H?{name:"BoardResource",options:{username:(0,_.Jx)(M),slug:(0,_.Jx)(unescape(H||"")),field_set_key:"detailed"}}:null);if("full"===F){let e="",i=null,l=!1;if((0,d.L6)(L.location)&&(e=(W??D)?.images?.orig?.url||"",i=(0,w.jsx)(P,{i18n:k,pinUrl:e})),(0,d.am)(L.location)&&K&&K.images&&K.images["474x"]){if(K.images["474x"].length>2){e=K.images["474x"][0].url||"";let t=K.images["474x"][1].url||"",a=K.images["474x"][2].url||"";l=!0,i=(0,w.jsx)(n.xu,{marginBottom:7,children:(0,w.jsxs)(n.kC,{children:[(0,w.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderTopLeftRadius:"16px",borderBottomLeftRadius:"16px",marginRight:"1px"}},height:117,overflow:"hidden",width:117,children:(0,w.jsx)(n.Ee,{alt:k._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:e})}),(0,w.jsxs)(n.kC,{direction:"column",children:[(0,w.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"16px",marginBottom:"1px"}},height:59,overflow:"hidden",width:57,children:(0,w.jsx)(n.Ee,{alt:k._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:t})}),(0,w.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:"16px"}},height:57,overflow:"hidden",width:58,children:(0,w.jsx)(n.Ee,{alt:k._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:a})})]})]})})}else K.images["474x"].length>0&&(e=K.images["474x"][0].url||"",i=(0,w.jsx)(P,{i18n:k,pinUrl:e}))}return e?(0,w.jsx)(j,{appUpsellType:O,backgroundImageUrl:e,handleDismiss:N,heroImage:i,i18n:k,multipleImages:l}):(0,w.jsx)(v,{appUpsellType:O,handleDismiss:N,i18n:k,iconSize:R,upsellAppIsAndroidLiteApp:I})}if("inline"===F){let e=(0,w.jsx)(n.xu,{color:"light",padding:1,rounding:1,children:(0,w.jsx)(n.JO,{accessibilityLabel:k._('Pinterest logo', 'AppUpsellFooter.icon', 'Pinterest logo icon for app upsell footer'),color:"brandPrimary",icon:"pinterest",inline:!0,size:28})}),i=k._('It\'s better in the app', 'mweb.auth.referred_app_upsell.heading3', 'heading for referred app upsell'),l=k._('Get similar recs and more', 'mweb.auth.referred_app_upsell.description4', 'description for referred app upsell');return O.endsWith("social-referred")&&Z&&(i=(0,w.jsx)(x.X,{variables:{inviteCode:Z},children:e=>(0,o.nk)(k._('{{ invitee }} shared this idea', 'mweb.auth.referred_app_upsell.heading5', 'heading for referred app upsell that has the invitee info'),{invitee:e.v3GetInviteCodeQuery?.data?.sender?.firstName||""})}),l=k._('Open app to discover more', 'mweb.auth.referred_app_upsell.description6', 'description for referred app upsell'),Z&&(e=(0,w.jsx)(x.X,{variables:{inviteCode:Z},children:e=>(0,w.jsx)(n.xu,{height:48,overflow:"hidden",rounding:6,width:48,children:(0,w.jsx)(n.Ee,{alt:k._('App upsell profile image', 'mweb.auth.referred_app_upsell.image1', 'image for referred app upsell, using invitee profile image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:e.v3GetInviteCodeQuery?.data?.sender?.imageMediumUrl||""})})}))),(0,w.jsx)(h.Z,{app_upsell_type:O,children:({handleOpenApp:t})=>(0,w.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#F1F1F1"}},direction:"row",display:"flex",height:74,padding:4,width:"100%",zIndex:new n.Ry(99999),children:(0,w.jsx)(n.iP,{onTap:()=>{(0,m.y)(),t()},children:(0,w.jsxs)(n.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[e,(0,w.jsxs)(n.xu,{flex:"grow",marginStart:4,children:[(0,w.jsx)(n.xu,{marginBottom:1,children:(0,w.jsx)(n.xv,{children:i})}),(0,w.jsx)(n.xv,{weight:"bold",children:l})]}),(0,w.jsx)(n.xu,{children:(0,w.jsx)(n.hU,{accessibilityLabel:"cancel",icon:"cancel",onClick:({event:e})=>{N(),e.preventDefault(),e.stopPropagation()},size:"sm"})})]})})})})}{let e=k._('Pinterest is better in the app', 'mweb.auth.referred_app_upsell.heading3', 'heading for referred app upsell');return O.endsWith("social-referred")&&Z&&(e=(0,w.jsx)(x.X,{variables:{inviteCode:Z},children:e=>(0,o.nk)(k._('Join {{ invitee }} on Pinterest', 'mweb.auth.referred_app_upsell.heading4', 'heading for referred app upsell that has the invitee info'),{invitee:e.v3GetInviteCodeQuery?.data?.sender?.firstName||""})})),(0,w.jsx)(s.default,{accessibilityModalLabel:k._('modal', 'mweb.auth.referred_app_upsell.modal_label', 'modal label'),closeOnOutsideClick:!1,isOpen:!0,mobileHideCloseIcon:!0,onDismiss:()=>{},type:"app_upsell_v1",zIndex:new n.Ry(101),children:(0,w.jsxs)(n.xu,{"data-test-id":"appUpsell-iframe",padding:2,children:[(0,w.jsx)(n.xu,{display:"inlineBlock",position:"absolute",children:(0,w.jsx)(n.xu,{"data-test-id":"referred-app-upsell-close",marginStart:1,marginTop:1,children:(0,w.jsx)(n.hU,{accessibilityLabel:k._('close', 'mweb.auth.referred_app_upsell.close', 'close button'),icon:"cancel",onClick:N,size:"sm"})})}),(0,w.jsxs)(n.xu,{marginBottom:5,marginTop:8,paddingX:2,children:[(0,w.jsx)(n.xu,{display:"flex",justifyContent:"center",paddingY:3,children:(0,w.jsx)(n.JO,{accessibilityLabel:k._('Logo', 'mweb.auth.referred_app_upsell.logo', 'logo icon'),color:"brandPrimary",icon:"pinterest",size:R})}),(0,w.jsx)(b,{appUpsellType:O,description:k._('Save ideas, interact with friends, and get inspired', 'mweb.auth.referred_app_upsell.description3', 'description for referred app upsell'),handleDismiss:N,heading:e,i18n:k})]})]})})}}},260488:(e,i,l)=>{l.d(i,{X:()=>b,Z:()=>v});var t,n=l(167912),a=l(883119),s=l(608516),r=l(344064),o=l(205841),d=l(140017),c=l(48481),p=l(623409),_=l(490166),u=l(953565),h=l(785893);function m({isStoryPin:e,inviteText:i,inviterFirstName:l,isThinnerStyle:t,username:n}){let s=(0,p.Z)(),r=i.split(l);return(0,h.jsx)(a.xu,{children:(0,h.jsx)(_.Z,{onTouch:()=>{(0,u.nP)("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,h.jsxs)(a.kC,{direction:"row",gap:{row:1,column:0},children:[(0,h.jsx)(a.xv,{inline:!0,size:"300",children:r[0]}),e?(0,h.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:(0,h.jsx)(a.rU,{href:"/"+n,onClick:()=>{s({action:"click",item:"invite-profiler"})},target:"blank",children:l})}):(0,h.jsx)(a.xv,{inline:!0,size:t?"200":"300",weight:t?"normal":"bold",children:(0,h.jsx)(a.rU,{href:"/"+n,onClick:()=>{s({action:"click",item:"invite-profiler-not-story"})},target:"blank",children:l})}),(0,h.jsx)(a.xv,{inline:!0,size:t?"200":"300",children:r[1]})]})})})}function g({inviter:e,socialContextBannerStyle:i,setShouldShowSocialUpsellBanner:l}){let{shouldShowSignupUpsellText:t,isDismissible:n}=i,s=(0,d.ZP)(),{username:r}=e,u=e.imageMediumUrl,g=e.firstName,x=(0,c.Z)(),f=(0,p.Z)();return(0,h.jsx)(a.kC,{alignItems:"center",justifyContent:n?"center":"start",children:(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.iP,{fullHeight:!0,onTap:()=>{f({action:"click",item:"close-button",within:"social-banner"}),x({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_unauth_social_context_banner",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,h.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},direction:"row",display:"flex",height:44,marginBottom:6,marginStart:n?0:2,marginTop:2,paddingX:n?4:2,paddingY:4,position:n?"static":"absolute",rounding:"pill",top:!0,width:n?1012:void 0,zIndex:new a.Ry(1),children:[(0,h.jsx)(a.xu,{marginBottom:8,marginEnd:1,marginTop:8,width:32,children:(0,h.jsx)(_.Z,{onTouch:e=>{e.stopPropagation(),r&&window.open("/"+r),f({action:"click",item:"user-rep",within:"social-banner"})},pressState:"none",children:u?.includes("default")?(0,h.jsx)(a.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:24}):(0,h.jsx)(o.qE,{name:g,size:"fit",src:u??void 0})})}),(0,h.jsxs)(a.kC,{direction:"row",flex:"grow",children:[(0,h.jsx)(m,{inviterFirstName:g,inviteText:t?(s._('{{ name }} shared this idea.', 'pin.closeup.long_banner.desktop.shareNotification', 'Long banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",g):(s._('{{ name }} shared this idea ', 'pin.closeup.banner.desktop.shareNotification', 'Banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",g),isStoryPin:!1,isThinnerStyle:t,username:r}),t&&(0,h.jsx)(a.xu,{marginEnd:2,marginStart:1,children:(0,h.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:s._('Sign up to join them', 'pin.header.social_context_dweb', 'label')})})]}),n&&(0,h.jsx)(a.hU,{accessibilityLabel:"cancel",icon:"cancel",onClick:({event:e})=>{e.stopPropagation(),f({action:"dismiss",item:"close-button",within:"social-banner"}),l?.(!1)},size:"sm"})]})})})})}var x=l(90647),f=l(773616);function y({inviter:{imageMediumUrl:e,username:i,firstName:l},isStoryPin:t}){let n=(0,d.ZP)(),s=()=>(0,u.nP)("mweb_social_unauth.closeup.avatar_click"),r=(0,f.Z)(),c=(0,p.Z)(),g=(n._('{{ name }} shared this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them')).replace("{{ name }}",i),y="undefined"!=typeof window&&window.innerWidth<360,w=i.length>25;return r&&t?(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",minHeight:w?100:80,children:[(0,h.jsx)(a.xu,{marginBottom:4,marginTop:4,width:40,children:(0,h.jsx)(_.Z,{onTouch:s,pressState:"none",children:(0,h.jsx)(o.qE,{name:l,size:"fit",src:e??void 0})})}),(0,h.jsx)(a.kC.Item,{flex:"grow",children:(0,h.jsxs)(a.xu,{alignItems:"center",direction:w?"column":"row",display:"flex",justifyContent:w?"start":"between",padding:w?3:0,children:[(0,h.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},wrap:!y,children:[(0,h.jsx)(a.kC,{children:(0,h.jsxs)(a.xv,{align:w?"center":"start",children:[(0,h.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(a.rU,{display:"inlineBlock",href:`/${i??""}/`,onClick:()=>{c({action:"click",item:"invite-profiler"})},target:"blank",underline:"hover",children:i})}),g.split(i)[1]]})}),!w&&(0,h.jsx)(a.xv,{size:"100",children:n._('Open Pinterest to see more', 'unauth.mweb.shared.banner.edu', 'education for CTA to open app on shared banner')})]}),(0,h.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:w?3:0,minWidth:w?0:100,children:(0,h.jsx)(x.Z,{app_upsell_type:"social-context-header",componentType:14161,children:({handleOpenApp:e})=>(0,h.jsx)(a.zx,{onClick:()=>e(),size:"md",text:n._('Open app', 'unauth.mweb.shared.banner.cta', 'CTA to open app on shared banner')})})})]})})]}):(0,h.jsx)(_.Z,{pressState:"none",children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,h.jsx)(a.xu,{marginBottom:4,marginStart:0,marginTop:4,width:48,children:(0,h.jsx)(_.Z,{onTouch:s,pressState:"none",children:(0,h.jsx)(o.qE,{name:l,src:e??void 0})})}),(0,h.jsx)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,h.jsx)(a.xu,{marginStart:0,children:(0,h.jsx)(m,{inviterFirstName:l,inviteText:(n._('{{ name }} shared this idea with you', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",l),isStoryPin:t,isThinnerStyle:!1,username:i})})})]})})}let w=void 0!==t?t:t=l(195020),b=({children:e,variables:i})=>e((0,n.useLazyLoadQuery)(w,i));function v({inviterFirstNameRef:e,isDesktop:i,isStoryPin:l,setShouldShowSocialUpsellBanner:t,socialContextBannerStyle:n}){return(0,h.jsx)(s.Z,{children:(0,h.jsx)(r.ty,{children:s=>s?(0,h.jsx)(b,{variables:{inviteCode:s},children:s=>{let r=s.v3GetInviteCodeQuery?.data?.sender,{firstName:o,imageMediumUrl:d,username:c}=r??Object.freeze({});return o&&c?(e&&(e.current=o),i?(0,h.jsx)(g,{inviter:{firstName:o,imageMediumUrl:d,username:c},setShouldShowSocialUpsellBanner:t,socialContextBannerStyle:n??{isDismissible:!0,shouldShowSignupUpsellText:!0}}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)"}},marginEnd:-2,marginStart:-2,paddingX:2,children:(0,h.jsx)(y,{inviter:{firstName:o,imageMediumUrl:d,username:c},isStoryPin:!!l})})):null}}):null})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/26189-717c7f1a5843f4d9.mjs.map